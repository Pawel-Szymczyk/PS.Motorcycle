@attribute [Authorize]

@page "/manager/"

<MessagePopupComponent Title="@this.messageTitle" 
                        Message="@this.message" 
                        Type="@this.messageType" 
                        OnClick="ClickHandler" />

<div class="breadcrumbs-container">
    <BreadcrumbComponent Breadcrumbs="@this.Breadcrumbs"></BreadcrumbComponent>
</div>

<div class="container-fluid">
    <div class="toolbar-container">
        <div class="toolbar">
            <div class="d-grid gap-2 d-md-block">
                <AddButtonComponent Path="/manager/create-motorcycle" Text="Add Motorcycle" />

                @if(this.selectedRow)
                {
                    <EditButtonComponent Id="@this.selectedRowId" Path="@this.editPath" Text="Edit Motorcycle" />
                    <DeleteButtonComponent Text="Delete Motorcycle" />
                }
            </div>
        </div>
    </div>
</div>

<div class="container">


@*
    <div class="search-container">
        <SearchComponent OnHandleValidSubmit="@this.HandleValidSubmit" />
    </div>

    @if(this.searchResults.Count().Equals(0))
    {
        <div>
            <BodyTypeCaruselComponent />
        </div>
    }*@


    <div class="filter-container">
        @*<SearchFilterComponent />*@
    </div>
    <div class="results-container">

          @* @if(this.Motorcycles is null)
        {
            <p><em>Loading...</em></p>
        }
        else
        {*@
            <!-- Cards -->
            
       @* }*@


        <div class="row row-cols-1 row-cols-md-3 g-4 motorcycles-list">

            @if(this.motorcycles is null)
            {
                <p><em>Loading...</em></p>
            }
            else
            {
                <table class="table table-striped table-hover">
                    <thead class="thead-light">
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Id</th>
                            <th scope="col">Make</th>
                            <th scope="col">Model</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var motorcycle in this.motorcycles)
                        {
                             
                            //string path = $"/motorcycle/{motorcycle.Id}";
                               
                            <tr @onclick="() => this.OnClick(motorcycle.Id)">
                                <td>
                                    <div class="form-check">
                                      <input class="form-check-input" type="checkbox" value="@this.selectedRow">
                                    </div>
                                </td>
                                <td>@motorcycle.Id.ToString()</td>
                                <td>@motorcycle.Make</td>
                                <td>@motorcycle.Model</td>
                            </tr>
           
                        }
                    </tbody>
                </table>
            }
        
            













                @* <Virtualize ItemsProvider="@this.LoadMotorcycles" Context="motorcycle">
                    <ItemContent>
                        @{
                            string path = $"/motorcycle/{motorcycle.Id}";
                        }
                        <CardComponent Motorcycle="@motorcycle" Path="@path" />
                    </ItemContent>
                    <Placeholder>
                        <p>
                           Loading...
                        </p>
                    </Placeholder>
                </Virtualize>*@






            </div>



    </div>
</div>


<FooterComponent />
